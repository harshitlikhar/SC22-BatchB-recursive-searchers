{"backend_state":"init","connection_file":"/projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/share/jupyter/runtime/kernel-a54a8c26-e855-4415-a450-a2020286e891.json","kernel":"ds_env","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.13"}},"trust":true,"type":"settings"}
{"cell_type":"code","exec_count":0,"id":"85e7e6","input":"","pos":20,"type":"cell"}
{"cell_type":"code","exec_count":10,"id":"aaaf2c","input":"fig, axes = plt.subplots(1,4)\nsns.set({'figure.figsize':(13,5)});\nsns.boxplot(data = churndf, x = 'Exited', y = 'Age', ax = axes[0]).set(title = 'Age to Exited')\nsns.boxplot(data = churndf, x = 'Exited', y = 'EstimatedSalary', ax = axes [1]).set(title = 'Estimated Salary to Exited')\nsns.boxplot(data = churndf, x = 'Exited', y = 'Balance', ax = axes [2]).set(title = 'Balance to Exited')\nsns.boxplot(data = churndf, x = 'Exited', y = 'Tenure', ax = axes [3]).set(title = 'Tenure to Exited');\nfig.tight_layout()\n\n#Boxplots each describe the 3 quartiles of the spread of data, the median, and the data that's outside of those 3 quartiles which are the outliers. In relation to the variables in our specific dataset, it shows the concentration of data that we should focus on with relation to the customers that exited.","output":{"0":{"data":{"image/png":"59599b6b89f0b5a60c4f84a613bd334e2b482265","text/plain":"<Figure size 936x360 with 4 Axes>"},"exec_count":10,"output_type":"execute_result"}},"pos":14,"type":"cell"}
{"cell_type":"code","exec_count":186,"id":"bc8d25","input":"plt.figure(figsize=(20,8))\nsns.scatterplot(x ='Age', y='Balance', hue = 'Exited', s= 70, data = churndf).set(title='Relationship between Age, Balance, and Exited');\nfig.tight_layout()","output":{"0":{"data":{"image/png":"f05935be673614e184d55fe532112a581e03e3af","text/plain":"<Figure size 1440x576 with 1 Axes>"},"exec_count":186,"output_type":"execute_result"}},"pos":18,"type":"cell"}
{"cell_type":"code","exec_count":2,"id":"752d7e","input":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px","pos":1,"type":"cell"}
{"cell_type":"code","exec_count":203,"id":"86fff9","input":"fig, axes = plt.subplots(3,2)\nsns.set({'figure.figsize':(10,20)});\nsns.countplot(data = churndf, x = 'Gender', hue = 'Exited', ax = axes [0,0]).set(title = 'Gender to exited')\nsns.countplot(data = churndf, x = 'HasCrCard', hue = 'Exited', ax = axes [0,1]).set(title = 'Has Credit Card or not to exited')\nsns.countplot(data = churndf, x = 'IsActiveMember', hue = 'Exited', ax = axes [1,0]).set(title = 'Active or not to exited')\nsns.countplot(data = churndf, x = 'NumOfProducts', hue = 'Exited', ax = axes [1,1]).set(title = 'Products to exited')\nsns.countplot(data=churndf, x = 'Geography', hue = 'Exited', ax = axes[2,0]).set(title = 'Countries in relation to Exited')\nsns.countplot(data = churndf, x = 'Geography', ax = axes[2,1]).set(title='Countries')\nfig.tight_layout();","output":{"0":{"data":{"image/png":"07b90ffd50ca8fa220d0139a46f8b9582c9c88f7","text/plain":"<Figure size 720x1440 with 6 Axes>"},"exec_count":203,"output_type":"execute_result"}},"pos":16,"type":"cell"}
{"cell_type":"code","exec_count":3,"id":"a2aaa7","input":"churndf = pd.read_csv('Churn_Modelling.csv')","pos":3,"type":"cell"}
{"cell_type":"code","exec_count":4,"id":"0b0183","input":"#Drop unnecessary columns\ncolumns_to_drop = ['RowNumber', 'CustomerId', 'Surname']\nchurndf.drop(columns_to_drop, axis=1, inplace = True)","pos":5,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":5,"id":"cc83d4","input":"#Missing value columns\nchurndf.head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>CreditScore</th>\n      <th>Geography</th>\n      <th>Gender</th>\n      <th>Age</th>\n      <th>Tenure</th>\n      <th>Balance</th>\n      <th>NumOfProducts</th>\n      <th>HasCrCard</th>\n      <th>IsActiveMember</th>\n      <th>EstimatedSalary</th>\n      <th>Exited</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>619</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>42</td>\n      <td>2</td>\n      <td>0.00</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>101348.88</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>608</td>\n      <td>Spain</td>\n      <td>Female</td>\n      <td>41</td>\n      <td>1</td>\n      <td>83807.86</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>112542.58</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>502</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>42</td>\n      <td>8</td>\n      <td>159660.80</td>\n      <td>3</td>\n      <td>1</td>\n      <td>0</td>\n      <td>113931.57</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>699</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>39</td>\n      <td>1</td>\n      <td>0.00</td>\n      <td>2</td>\n      <td>0</td>\n      <td>0</td>\n      <td>93826.63</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>850</td>\n      <td>Spain</td>\n      <td>Female</td>\n      <td>43</td>\n      <td>2</td>\n      <td>125510.82</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>79084.10</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   CreditScore Geography  Gender  Age  Tenure    Balance  NumOfProducts  \\\n0          619    France  Female   42       2       0.00              1   \n1          608     Spain  Female   41       1   83807.86              1   \n2          502    France  Female   42       8  159660.80              3   \n3          699    France  Female   39       1       0.00              2   \n4          850     Spain  Female   43       2  125510.82              1   \n\n   HasCrCard  IsActiveMember  EstimatedSalary  Exited  \n0          1               1        101348.88       1  \n1          0               1        112542.58       0  \n2          1               0        113931.57       1  \n3          0               0         93826.63       0  \n4          1               1         79084.10       0  "},"exec_count":5,"output_type":"execute_result"}},"pos":7,"type":"cell"}
{"cell_type":"code","exec_count":6,"id":"5370f2","input":"corr = churndf.corr()\nplt.figure(figsize=(10,10))\nsns.heatmap(corr, cmap='YlGnBu', annot = True).set(title = 'Correlation between variables');","output":{"0":{"data":{"image/png":"9a424543e8a49aca3ad9f2dbcb1d32577a11b314","text/plain":"<Figure size 720x720 with 2 Axes>"},"exec_count":6,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":9,"type":"cell"}
{"cell_type":"code","exec_count":7,"id":"2cb0d0","input":"ax = sns.barplot(x='Exited', y='Exited', estimator=lambda x: len(x) / len(churndf) * 100, data=churndf)\nax.bar_label(ax.containers[0], fmt='%.f%%')\nax.set_ylabel('%')\nax.set_title('Percentage of exited to non-exited customers');","output":{"0":{"data":{"image/png":"681841178a08bb693c0161a0b33aa3f1d2532491","text/plain":"<Figure size 432x288 with 1 Axes>"},"exec_count":7,"metadata":{"needs_background":"light"},"output_type":"execute_result"}},"pos":11,"type":"cell"}
{"cell_type":"markdown","id":"18b8c5","input":"**Creating a heat\\-map to assess the correlation between our variables.**\n\n","pos":8,"type":"cell"}
{"cell_type":"markdown","id":"2d9f47","input":"**Assessing the proportions of our target value triggers to our** **defaults.**\n\n","pos":10,"type":"cell"}
{"cell_type":"markdown","id":"31acb7","input":"This bar graph shows our percentage of exited to non\\-exited customers. As shown, we have a large percentage of exited customers \nalong with the opposite for non\\-ex\n\n","pos":12,"type":"cell"}
{"cell_type":"markdown","id":"346545","input":"**Assessing which columns we have to work with.**\n\n","pos":6,"type":"cell"}
{"cell_type":"markdown","id":"75e254","input":"**Creating count\\-plots for values that wouldn't be properly visualized by box plots due to being categorical.**\n\n","pos":15,"type":"cell"}
{"cell_type":"markdown","id":"929ff5","input":"**Importing the libraries we need for plotting, organizing, etc.**\n\n","pos":0,"type":"cell"}
{"cell_type":"markdown","id":"957724","input":"**Dropping unnecessary columns.**\n\n","pos":4,"type":"cell"}
{"cell_type":"markdown","id":"ad156d","input":"**Creating a scatterplot that compares multiple values together to better visualize the correlation between the two.**\n\n","pos":17,"type":"cell"}
{"cell_type":"markdown","id":"be8be8","input":"**Creating box\\-plots to examine the spread of our data among multiple variables.**\n\n","pos":13,"type":"cell"}
{"cell_type":"markdown","id":"ca5d79","input":"**Summary**\n\nThe dataset we chose includes multiple variables that describe customers at a bank. Our target is finding whether or not a customer will leave the bank, and our variable for that is Exited, with a value of 1 meaning that the customer has left, and a value of 0 meaning that the customer remains. \n\nThrough our analyzation of the correlation between variables, we found that all of the ones that we didn't remove played a small role in predicting whether or not the customer has exited or will exit \\(as seen in our heat\\-map\\). \n\nSome of the variables we chose to analyze through exploratory data analysis were the age of the customer, their estimated salary, balance, tenure, \ngender, which country they were from, whether they had a credit card or not, how active they were, and the number of products they were utilizing from the bank. \n\n","pos":19,"type":"cell"}
{"cell_type":"markdown","id":"d97008","input":"**Importing the dataset.**\n\n","pos":2,"type":"cell"}
{"id":0,"time":1657119742683,"type":"user"}
{"last_load":1657025881784,"type":"file"}