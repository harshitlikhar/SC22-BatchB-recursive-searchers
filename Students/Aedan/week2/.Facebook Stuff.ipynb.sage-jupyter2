{"backend_state":"init","connection_file":"/projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/share/jupyter/runtime/kernel-e880d5b2-d3f2-43f1-80b1-19917624e300.json","kernel":"python3-ubuntu","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"trust":true,"type":"settings"}
{"cell_type":"code","exec_count":0,"id":"858dec","input":"","pos":10,"type":"cell"}
{"cell_type":"code","exec_count":1,"id":"a67383","input":"pip install prophet","output":{"0":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: prophet in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (1.1)"},"1":{"name":"stdout","output_type":"stream","text":"\r\n"},"10":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: cmdstanpy>=1.0.1 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (1.0.4)\r\n"},"11":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: matplotlib>=2.0.0 in /usr/lib/python3/dist-packages (from prophet) (3.1.2)\r\nRequirement already satisfied: python-dateutil>=2.8.0 in /usr/local/lib/python3.8/dist-packages (from prophet) (2.8.2)\r\nRequirement already satisfied: ephem>=3.7.5.3 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from LunarCalendar>=0.0.9->prophet) (4.1.3)\r\nRequirement already satisfied: pytz in /usr/local/lib/python3.8/dist-packages (from LunarCalendar>=0.0.9->prophet) (2022.1)"},"12":{"name":"stdout","output_type":"stream","text":"\r\nRequirement already satisfied: pymeeus<=1,>=0.3.13 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from convertdate>=2.1.2->prophet) (0.5.11)\r\nRequirement already satisfied: korean-lunar-calendar in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from holidays>=0.13->prophet) (0.2.1)\r\n"},"13":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: hijri-converter in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from holidays>=0.13->prophet) (2.2.4)\r\nRequirement already satisfied: ujson in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from cmdstanpy>=1.0.1->prophet) (5.4.0)\r\nRequirement already satisfied: six>=1.5 in /usr/lib/python3/dist-packages (from python-dateutil>=2.8.0->prophet) (1.14.0)\r\n"},"14":{"name":"stdout","output_type":"stream","text":"Note: you may need to restart the kernel to use updated packages.\n"},"2":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: setuptools>=42 in /usr/lib/python3/dist-packages (from prophet) (45.2.0)"},"3":{"name":"stdout","output_type":"stream","text":"\r\nRequirement already satisfied: numpy>=1.15.4 in /usr/local/lib/python3.8/dist-packages (from prophet) (1.22.3)\r\nRequirement already satisfied: LunarCalendar>=0.0.9 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (0.0.9)\r\nRequirement already satisfied: setuptools-git>=1.2 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (1.2)\r\n"},"4":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: tqdm>=4.36.1 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (4.64.0)\r\n"},"5":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: wheel>=0.37.0 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (0.37.1)"},"6":{"name":"stdout","output_type":"stream","text":"\r\nRequirement already satisfied: Cython>=0.22 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (0.29.30)\r\nRequirement already satisfied: pandas>=1.0.4 in /usr/local/lib/python3.8/dist-packages (from prophet) (1.4.1)"},"7":{"name":"stdout","output_type":"stream","text":"\r\n"},"8":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: convertdate>=2.1.2 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (2.4.0)\r\n"},"9":{"name":"stdout","output_type":"stream","text":"Requirement already satisfied: holidays>=0.13 in /projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/lib/python3.8/site-packages (from prophet) (0.14.2)\r\n"}},"pos":0,"type":"cell"}
{"cell_type":"code","exec_count":1,"id":"f57c16","input":"import pandas as pd\nfrom prophet import Prophet","pos":1,"type":"cell"}
{"cell_type":"code","exec_count":13,"id":"e59a6b","input":"df = pd.read_csv('https://raw.githubusercontent.com/facebook/prophet/main/examples/example_air_passengers.csv')\ndf.head()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>ds</th>\n      <th>y</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1949-01-01</td>\n      <td>112</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1949-02-01</td>\n      <td>118</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1949-03-01</td>\n      <td>132</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1949-04-01</td>\n      <td>129</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>1949-05-01</td>\n      <td>121</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"           ds    y\n0  1949-01-01  112\n1  1949-02-01  118\n2  1949-03-01  132\n3  1949-04-01  129\n4  1949-05-01  121"},"exec_count":13,"output_type":"execute_result"}},"pos":2,"type":"cell"}
{"cell_type":"code","exec_count":14,"id":"c1c253","input":"m = Prophet()\nm.fit(df)","output":{"0":{"name":"stderr","output_type":"stream","text":"18:59:29 - cmdstanpy - INFO - Chain [1] start processing\n"},"1":{"name":"stderr","output_type":"stream","text":"18:59:29 - cmdstanpy - INFO - Chain [1] done processing\n"},"2":{"data":{"text/plain":"<prophet.forecaster.Prophet at 0x7f93d8860df0>"},"exec_count":14,"output_type":"execute_result"}},"pos":3,"type":"cell"}
{"cell_type":"code","exec_count":15,"id":"a846cd","input":"future = m.make_future_dataframe(periods=365)\nfuture.tail()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>ds</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>504</th>\n      <td>1961-11-27</td>\n    </tr>\n    <tr>\n      <th>505</th>\n      <td>1961-11-28</td>\n    </tr>\n    <tr>\n      <th>506</th>\n      <td>1961-11-29</td>\n    </tr>\n    <tr>\n      <th>507</th>\n      <td>1961-11-30</td>\n    </tr>\n    <tr>\n      <th>508</th>\n      <td>1961-12-01</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"            ds\n504 1961-11-27\n505 1961-11-28\n506 1961-11-29\n507 1961-11-30\n508 1961-12-01"},"exec_count":15,"output_type":"execute_result"}},"pos":4,"type":"cell"}
{"cell_type":"code","exec_count":16,"id":"2e7c19","input":"forecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>ds</th>\n      <th>yhat</th>\n      <th>yhat_lower</th>\n      <th>yhat_upper</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>504</th>\n      <td>1961-11-27</td>\n      <td>499.128498</td>\n      <td>469.653106</td>\n      <td>528.010471</td>\n    </tr>\n    <tr>\n      <th>505</th>\n      <td>1961-11-28</td>\n      <td>497.547622</td>\n      <td>466.657040</td>\n      <td>525.841333</td>\n    </tr>\n    <tr>\n      <th>506</th>\n      <td>1961-11-29</td>\n      <td>495.269493</td>\n      <td>467.088813</td>\n      <td>523.560724</td>\n    </tr>\n    <tr>\n      <th>507</th>\n      <td>1961-11-30</td>\n      <td>492.336493</td>\n      <td>464.892268</td>\n      <td>520.526920</td>\n    </tr>\n    <tr>\n      <th>508</th>\n      <td>1961-12-01</td>\n      <td>488.808041</td>\n      <td>461.972077</td>\n      <td>517.443920</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"            ds        yhat  yhat_lower  yhat_upper\n504 1961-11-27  499.128498  469.653106  528.010471\n505 1961-11-28  497.547622  466.657040  525.841333\n506 1961-11-29  495.269493  467.088813  523.560724\n507 1961-11-30  492.336493  464.892268  520.526920\n508 1961-12-01  488.808041  461.972077  517.443920"},"exec_count":16,"output_type":"execute_result"}},"pos":5,"type":"cell"}
{"cell_type":"code","exec_count":17,"id":"995d4c","input":"fig1 = m.plot(forecast)","output":{"0":{"name":"stderr","output_type":"stream","text":"/usr/lib/python3/dist-packages/matplotlib/cbook/__init__.py:1402: FutureWarning:\n\nSupport for multi-dimensional indexing (e.g. `obj[:, None]`) is deprecated and will be removed in a future version.  Convert to a numpy array before indexing instead.\n\n/usr/lib/python3/dist-packages/matplotlib/axes/_base.py:278: FutureWarning:\n\nSupport for multi-dimensional indexing (e.g. `obj[:, None]`) is deprecated and will be removed in a future version.  Convert to a numpy array before indexing instead.\n\n"},"1":{"data":{"image/png":"2665f8af89a25c61d614e4af01676a0bdedac732","text/plain":"<Figure size 720x432 with 1 Axes>"},"exec_count":17,"metadata":{"image/png":{"height":423,"width":712}},"output_type":"execute_result"}},"pos":6,"type":"cell"}
{"cell_type":"code","exec_count":18,"id":"dae8ec","input":"fig2 = m.plot_components(forecast)","output":{"0":{"name":"stderr","output_type":"stream","text":"/usr/lib/python3/dist-packages/matplotlib/cbook/__init__.py:1402: FutureWarning:\n\nSupport for multi-dimensional indexing (e.g. `obj[:, None]`) is deprecated and will be removed in a future version.  Convert to a numpy array before indexing instead.\n\n/usr/lib/python3/dist-packages/matplotlib/axes/_base.py:278: FutureWarning:\n\nSupport for multi-dimensional indexing (e.g. `obj[:, None]`) is deprecated and will be removed in a future version.  Convert to a numpy array before indexing instead.\n\n"},"1":{"data":{"image/png":"7043a8207cca4d49d2f8dd237971269f9c689404","text/plain":"<Figure size 648x432 with 2 Axes>"},"exec_count":18,"metadata":{"image/png":{"height":423,"width":638}},"output_type":"execute_result"}},"pos":7,"type":"cell"}
{"cell_type":"code","exec_count":19,"id":"88a182","input":"from prophet.plot import plot_plotly, plot_components_plotly\n\nplot_plotly(m, forecast)","output":{"0":{"data":{"iframe":"fdf1db98db07a0bbe5eb3125e8efde938c887111"},"exec_count":19,"output_type":"execute_result"}},"pos":8,"type":"cell"}
{"cell_type":"code","exec_count":20,"id":"1acdd7","input":"plot_components_plotly(m, forecast)","output":{"0":{"data":{"iframe":"5045d90fa791a4066b81f4d3e26f6f6321399f75"},"exec_count":20,"output_type":"execute_result"}},"pos":9,"type":"cell"}
{"id":0,"time":1657219099397,"type":"user"}
{"last_load":1657332065003,"type":"file"}