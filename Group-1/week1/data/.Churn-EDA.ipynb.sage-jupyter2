{"backend_state":"init","connection_file":"/projects/384affd7-8fb5-487a-a2bf-30e2102843d9/.local/share/jupyter/runtime/kernel-9e3a0188-66fc-45dc-9ad6-638665664c65.json","kernel":"ds_env","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.13"}},"trust":true,"type":"settings"}
{"cell_type":"code","exec_count":0,"id":"9353fe","input":"","pos":23,"type":"cell"}
{"cell_type":"code","exec_count":122,"id":"66dc09","input":"sns.scatterplot(x=\"Age\", y=\"Balance\", hue='Exited', data=churndf)#Importing three variables\nplt.title('Relation of Exited, Age and Balance', fontsize=15, fontweight='bold')#Named and colored the plot\nplt.xticks(fontsize=16)\nplt.yticks(fontsize=16)\nplt.show()","output":{"0":{"data":{"image/png":"f2fe7965fc2dd08986818aed9127bf1f52d7984d","text/plain":"<Figure size 1152x432 with 1 Axes>"},"exec_count":122,"output_type":"execute_result"}},"pos":18,"type":"cell"}
{"cell_type":"code","exec_count":134,"id":"be31d2","input":"\nfig.tight_layout()\nsns.countplot(data=churndf, x='NumOfProducts', hue='Exited', palette = 'Oranges')#Pretty common script\nplt.title('Amount of people exited in terms of number of products', fontsize=15, fontweight='bold')#made a heading and colored the plot\n","output":{"0":{"data":{"text/plain":"Text(0.5, 1.0, 'Amount of people exited in terms of number of products')"},"exec_count":134,"output_type":"execute_result"},"1":{"data":{"image/png":"0657dd9dfb122b0d03e25f0db013a1ac22f7d71f","text/plain":"<Figure size 936x720 with 1 Axes>"},"exec_count":134,"output_type":"execute_result"}},"pos":20,"type":"cell"}
{"cell_type":"code","exec_count":145,"id":"44b641","input":"# Percentage of exited and non-exited5\neda_percentage = churndf['Exited'].value_counts(normalize = True).rename_axis('Exited').reset_index(name = 'Percentage') #made it count the percentage of exit v. non-exit\nax = sns.barplot(x = 'Exited', y = 'Percentage', data = eda_percentage, palette = 'Purples').set_title('Percentage of Exited v. Non-Exited',fontdict= {'fontsize': 14, 'fontweight':'bold'}) #X,Y parametrs and naming the plot","output":{"0":{"data":{"image/png":"1d0c60b76a1d1bab4e3e4067eb45044dc1cbce23","text/plain":"<Figure size 936x720 with 1 Axes>"},"exec_count":145,"output_type":"execute_result"}},"pos":21,"type":"cell"}
{"cell_type":"code","exec_count":152,"id":"2d3f32","input":"#Our first heatmap\ncorr = churndf.corr()\nplt.figure(figsize=(10,10))# Applied size\nsns.heatmap(churndf.corr(), cmap='YlGnBu', annot = True).set_title('Customer Churn Heatmap',fontdict= { 'fontsize': 14, 'fontweight':'bold'})# Set it to be a heatmap and edited it to represent our data","output":{"0":{"data":{"text/plain":"Text(0.5, 1.0, 'Customer Churn Heatmap')"},"exec_count":152,"output_type":"execute_result"},"1":{"data":{"image/png":"fecb2c3eb0deaec21f04eac4747cfdb0bdb96d6b","text/plain":"<Figure size 720x720 with 2 Axes>"},"exec_count":152,"output_type":"execute_result"}},"pos":11,"type":"cell"}
{"cell_type":"code","exec_count":156,"id":"ee97ae","input":"#Countries\nfig, axis = plt.subplots(1,2)# Made it have two fields for plots\nfig.tight_layout()\n\n# Customer by Country\n# First plot\nsns.countplot(x='Geography', ax=axis[0], data=churndf, palette = 'Purples').set_title('Customers by Country',fontdict= { 'fontsize': 14, 'fontweight':'bold'}) # Named the plot and X-value\n\n# Geograhy to Exited\n# Second plot\nsns.countplot(x=\"Geography\", hue=\"Exited\", ax=axis[1], data=churndf, palette = 'Reds').set_title('Ratio of People Exited by Country',fontdict= { 'fontsize': 14, 'fontweight':'bold'})# Named the plot and X-value, Y(hue)-Value\nsns.set_theme(style=\"darkgrid\")# Set a stile for plots","output":{"0":{"data":{"image/png":"3b33ac4f960f001b190efc36118cdf85db24620e","text/plain":"<Figure size 864x720 with 2 Axes>"},"exec_count":156,"output_type":"execute_result"}},"pos":13,"type":"cell"}
{"cell_type":"code","exec_count":157,"id":"000e1a","input":"# Everything and Exited\nfig, axis = plt.subplots(1,3) # Made it have three fields for plots\nsns.set({'figure.figsize':(12,10)}); # Set the size\n\n# Number Exited\n# First plot\nsns.countplot(x=\"Exited\", ax=axis[0], data=churndf, palette = 'Blues').set_title('Number of people exited',fontdict= { 'fontsize': 14, 'fontweight':'bold'})\n\n# Gender to Exit\n# Second plot\nsns.countplot(x=\"Gender\", hue = \"Exited\", ax=axis[1], data=churndf, palette = 'Reds').set_title('Number of people exited by gender',fontdict= { 'fontsize': 14, 'fontweight':'bold'})\n\n# Exit to Age\n# Third plot\nsns.countplot(data = churndf , x = 'Age', hue = 'Exited', ax=axis[2], palette = 'Greens').set_title('Age of people exited',fontdict= { 'fontsize': 14, 'fontweight':'bold'})\nsns.set_theme(style=\"darkgrid\")\nfig.tight_layout()","output":{"0":{"data":{"image/png":"cf55fd2db411dc6989ae0c74c55c965bf9139a7b","text/plain":"<Figure size 864x720 with 3 Axes>"},"exec_count":157,"output_type":"execute_result"}},"pos":15,"type":"cell"}
{"cell_type":"code","exec_count":158,"id":"2c54c9","input":"churndf.head()# Made it show first 5 data lines","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>CreditScore</th>\n      <th>Geography</th>\n      <th>Gender</th>\n      <th>Age</th>\n      <th>Tenure</th>\n      <th>Balance</th>\n      <th>NumOfProducts</th>\n      <th>HasCrCard</th>\n      <th>IsActiveMember</th>\n      <th>EstimatedSalary</th>\n      <th>Exited</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>619</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>42</td>\n      <td>2</td>\n      <td>0.00</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>101348.88</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>608</td>\n      <td>Spain</td>\n      <td>Female</td>\n      <td>41</td>\n      <td>1</td>\n      <td>83807.86</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>112542.58</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>502</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>42</td>\n      <td>8</td>\n      <td>159660.80</td>\n      <td>3</td>\n      <td>1</td>\n      <td>0</td>\n      <td>113931.57</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>699</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>39</td>\n      <td>1</td>\n      <td>0.00</td>\n      <td>2</td>\n      <td>0</td>\n      <td>0</td>\n      <td>93826.63</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>850</td>\n      <td>Spain</td>\n      <td>Female</td>\n      <td>43</td>\n      <td>2</td>\n      <td>125510.82</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>79084.10</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"   CreditScore Geography  Gender  Age  Tenure    Balance  NumOfProducts  \\\n0          619    France  Female   42       2       0.00              1   \n1          608     Spain  Female   41       1   83807.86              1   \n2          502    France  Female   42       8  159660.80              3   \n3          699    France  Female   39       1       0.00              2   \n4          850     Spain  Female   43       2  125510.82              1   \n\n   HasCrCard  IsActiveMember  EstimatedSalary  Exited  \n0          1               1        101348.88       1  \n1          0               1        112542.58       0  \n2          1               0        113931.57       1  \n3          0               0         93826.63       0  \n4          1               1         79084.10       0  "},"exec_count":158,"output_type":"execute_result"}},"pos":3,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":159,"id":"5d9197","input":"churndf.tail()# Made it show last 5 data lines","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>CreditScore</th>\n      <th>Geography</th>\n      <th>Gender</th>\n      <th>Age</th>\n      <th>Tenure</th>\n      <th>Balance</th>\n      <th>NumOfProducts</th>\n      <th>HasCrCard</th>\n      <th>IsActiveMember</th>\n      <th>EstimatedSalary</th>\n      <th>Exited</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>19995</th>\n      <td>771</td>\n      <td>France</td>\n      <td>Male</td>\n      <td>39</td>\n      <td>5</td>\n      <td>0.00</td>\n      <td>2</td>\n      <td>1</td>\n      <td>0</td>\n      <td>96270.64</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>19996</th>\n      <td>516</td>\n      <td>France</td>\n      <td>Male</td>\n      <td>35</td>\n      <td>10</td>\n      <td>57369.61</td>\n      <td>1</td>\n      <td>1</td>\n      <td>1</td>\n      <td>101699.77</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>19997</th>\n      <td>709</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>36</td>\n      <td>7</td>\n      <td>0.00</td>\n      <td>1</td>\n      <td>0</td>\n      <td>1</td>\n      <td>42085.58</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19998</th>\n      <td>772</td>\n      <td>Germany</td>\n      <td>Male</td>\n      <td>42</td>\n      <td>3</td>\n      <td>75075.31</td>\n      <td>2</td>\n      <td>1</td>\n      <td>0</td>\n      <td>92888.52</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>19999</th>\n      <td>792</td>\n      <td>France</td>\n      <td>Female</td>\n      <td>28</td>\n      <td>4</td>\n      <td>130142.79</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>38190.78</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"       CreditScore Geography  Gender  Age  Tenure    Balance  NumOfProducts  \\\n19995          771    France    Male   39       5       0.00              2   \n19996          516    France    Male   35      10   57369.61              1   \n19997          709    France  Female   36       7       0.00              1   \n19998          772   Germany    Male   42       3   75075.31              2   \n19999          792    France  Female   28       4  130142.79              1   \n\n       HasCrCard  IsActiveMember  EstimatedSalary  Exited  \n19995          1               0         96270.64       0  \n19996          1               1        101699.77       0  \n19997          0               1         42085.58       1  \n19998          1               0         92888.52       1  \n19999          1               0         38190.78       0  "},"exec_count":159,"output_type":"execute_result"}},"pos":4,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":160,"id":"87d21e","input":"# Exited Continued\nfig, axis = plt.subplots(1,3)#Made it have three fields for plots\nfig.tight_layout()\nsns.set({'figure.figsize':(13,10)});#Made exact size\n\n# Exit to Balance\n#First plot\nsns.boxplot(data=churndf, x='Exited', y='Balance', ax=axis[0], palette = 'Reds').set_title('Balance of people exited',fontdict= { 'fontsize': 14, 'fontweight':'bold'})\n\n# Exit To Tenure\n#Second Plot\nsns.boxplot(data=churndf, x='Exited', y='Tenure', ax=axis[1], palette = 'Oranges').set_title('Tenure of people exited',fontdict= { 'fontsize': 14, 'fontweight':'bold'})\n\n# Exit to Salary\n#Third plot\nsns.boxplot(data=churndf, x='Exited', y='EstimatedSalary', ax=axis[2], palette = 'Greens').set_title('Salary of people exited',fontdict= {'fontsize': 14, 'fontweight':'bold'})","output":{"0":{"data":{"text/plain":"Text(0.5, 1.0, 'Salary of people exited')"},"exec_count":160,"output_type":"execute_result"},"1":{"data":{"image/png":"1a192e556dd46af7ce42103aeb211b3f0689d81c","text/plain":"<Figure size 864x720 with 3 Axes>"},"exec_count":160,"output_type":"execute_result"}},"pos":16,"type":"cell"}
{"cell_type":"code","exec_count":43,"id":"f9ece4","input":"import seaborn as sns\nimport pandas as pd\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nchurndf = pd.read_csv(\"Churn_Modelling.csv\")","pos":1,"type":"cell"}
{"cell_type":"code","exec_count":50,"id":"407c3c","input":"# Columns Removed: ROW NUM, Customer ID, Surname\ncolumns_to_drop = [\"RowNumber\", \"CustomerId\", \"Surname\"]\nchurndf.drop(columns_to_drop, axis=1, inplace=True)","pos":5,"type":"cell"}
{"cell_type":"code","exec_count":51,"id":"1dbd99","input":"churndf.info() #Made it show info","output":{"0":{"name":"stdout","output_type":"stream","text":"<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 20000 entries, 0 to 19999\nData columns (total 11 columns):\n #   Column           Non-Null Count  Dtype  \n---  ------           --------------  -----  \n 0   CreditScore      20000 non-null  int64  \n 1   Geography        20000 non-null  object \n 2   Gender           20000 non-null  object \n 3   Age              20000 non-null  int64  \n 4   Tenure           20000 non-null  int64  \n 5   Balance          20000 non-null  float64\n 6   NumOfProducts    20000 non-null  int64  \n 7   HasCrCard        20000 non-null  int64  \n 8   IsActiveMember   20000 non-null  int64  \n 9   EstimatedSalary  20000 non-null  float64\n 10  Exited           20000 non-null  int64  \ndtypes: float64(2), int64(7), object(2)\nmemory usage: 1.7+ MB\n"}},"pos":6,"type":"cell"}
{"cell_type":"code","exec_count":52,"id":"3186f6","input":"churndf.columns# Made it show all colums","output":{"0":{"data":{"text/plain":"Index(['CreditScore', 'Geography', 'Gender', 'Age', 'Tenure', 'Balance',\n       'NumOfProducts', 'HasCrCard', 'IsActiveMember', 'EstimatedSalary',\n       'Exited'],\n      dtype='object')"},"exec_count":52,"output_type":"execute_result"}},"pos":7,"type":"cell"}
{"cell_type":"code","exec_count":53,"id":"ddf346","input":"churndf['Exited'].value_counts(normalize = True)","output":{"0":{"data":{"text/plain":"0    0.7963\n1    0.2037\nName: Exited, dtype: float64"},"exec_count":53,"output_type":"execute_result"}},"pos":8,"type":"cell"}
{"cell_type":"markdown","id":"0f9702","input":"##### _Heatmap for Customer Churn_\n\n","pos":10,"type":"cell"}
{"cell_type":"markdown","id":"17b784","input":"### Imports:\n\n","pos":0,"type":"cell"}
{"cell_type":"markdown","id":"26ec65","input":"### Customer Churn Info:\n\n","pos":2,"type":"cell"}
{"cell_type":"markdown","id":"60c616","input":"##### _Scatterplot showing the relation between Exited/Non\\-exited, Age, and Balance._\n\nWe made our Grouped plot, which was very hard\n\n","pos":17,"type":"cell"}
{"cell_type":"markdown","id":"7c7401","input":"##### _Number of People Exited by Gender, Age, Balance, Tenure, and Average Salary._\n\n","pos":14,"type":"cell"}
{"cell_type":"markdown","id":"ae3f04","input":"##### _Data for Customers by Geography_\n\nCountries include France, Spain, Germany.\n\n","pos":12,"type":"cell"}
{"cell_type":"markdown","id":"b8c41a","input":"### Exited vs. Non\\-exited in terms of number of products\n\nHere, we wanted to show some statistics about the number of products.\n\n","pos":19,"type":"cell"}
{"cell_type":"markdown","id":"fbd35f","input":"### `EDA`\n\n","pos":9,"type":"cell"}
{"cell_type":"markdown","id":"fc1b1f","input":"### Summary:\n\n","pos":22,"type":"cell"}
{"id":0,"time":1657045520532,"type":"user"}
{"last_load":1657045519062,"type":"file"}